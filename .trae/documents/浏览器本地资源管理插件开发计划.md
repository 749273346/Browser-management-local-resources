# 浏览器本地资源管理插件开发计划

根据您的需求，我们将开发一款浏览器插件，配合一个轻量级的本地服务（Auxiliary Software），来实现对本地资源的浏览和管理。

## 核心架构

由于浏览器安全限制，无法直接访问本地文件系统或调用 Windows 资源管理器，我们需要采用 **"浏览器插件 + 本地服务"** 的架构：

1. **本地服务 (Server)**: 运行在本地的 Node.js 程序，负责读取文件列表和调用 `explorer.exe` 打开文件夹。
2. **浏览器插件 (Client)**: 用户界面，负责展示目录层级（一级、二级）并处理交互逻辑。

## 技术选型

* **本地服务端**: Node.js + Express (轻量、易于处理文件系统和系统命令)

* **插件前端**: React + Vite (构建现代化 UI) + Manifest V3

## 实现步骤

### 第一阶段：搭建本地服务 (Server)

我们将创建一个 `server` 目录，并实现以下 API：

1. **初始化项目**: 配置 `package.json`。
2. **文件列表 API**: `GET /api/files?path=...` —— 读取指定目录下的文件夹和文件。
3. **打开资源 API**: `POST /api/open` —— 接收路径参数，调用 Windows 资源管理器打开该路径。
4. **跨域配置**: 允许浏览器插件访问本地 localhost 接口。

### 第二阶段：开发浏览器插件 (Extension)

我们将创建一个 `extension` 目录，构建 React 应用：

1. **项目初始化**: 使用 Vite 创建 React 项目，并配置为插件模式。
2. **配置页**: 允许用户设置“根目录”路径（起始位置）。
3. **核心 UI 组件**:

   * **一级目录视图 (Level 1)**: 设计独特的展示样式（如卡片/大图标）。

   * **二级目录视图 (Level 2)**: 设计不同的展示样式（如列表/详情）。
4. **交互逻辑**:

   * **Level 1 -> Level 2**: 点击一级目录，通过 API 获取子目录，切换到二级视图。

   * **Level 2 -> Level 3**: 点击二级目录中的项，直接调用 `/api/open` 接口，在 Windows 资源管理器中打开目标。

### 第三阶段：联调与测试

1. 启动本地服务。
2. 在浏览器中加载解压后的插件。
3. 验证三级跳转逻辑是否符合预期。

## 目录结构规划

```text
Browser-management-local-resources/
├── server/             # 本地服务代码
│   ├── index.js        # 服务入口
│   └── package.json
├── extension/          # 插件前端代码
│   ├── src/
│   ├── manifest.json
│   └── vite.config.js
└── README.md           # 使用说明
```

